<c-row ngPreserveWhitespaces>


  <c-col xs="12">
    <c-card class="mb-4">
      <c-card-header>
        <strong> Table</strong>
      </c-card-header>
      <c-card-body>
        <c-row>
          <c-col xs="6">

            <ng-multiselect-dropdown
              [placeholder]="'Select Items'"
              [settings]="dropdownSettings"
              [data]="dropdownList"
              [(ngModel)]="selectedItems"
              (onSelect)="itemChange()"
              (onSelectAll)="itemChange()"
              (onDeSelectAll)="itemChange()"
              (onDeSelect)="itemChange()"

            >
            </ng-multiselect-dropdown>
          </c-col>
          <c-col xs="6">

            <ng-multiselect-dropdown
              [placeholder]="'Select Intestazione'"
              [settings]="dropdownSettings"
              [data]="dropdownTipology"
              [(ngModel)]="selectedTipology"
              (onSelect)="tipologiChange( )"
              (onSelectAll)="tipologiChange( )"
              (onDeSelect)="tipologiChange()"
              (onDeSelectAll)="tipologiChange()"
            >
            </ng-multiselect-dropdown>

          </c-col>
        </c-row>
        <br>
        <c-row>
          <c-col xs="6">
            <input aria-label="default input example"
                   cFormControl
                   placeholder="Iban"
                   type="text"
                   (input)="ibanFilter($event)"
            />
          </c-col>
          <c-col xs="6">
            <input aria-label="default input example"
                   cFormControl
                   placeholder="Alias"
                   type="text"

                   (input)="aliasFilter($event)"
            />
          </c-col>
        </c-row>
        <table cTable>
          <thead>
          <tr>
            <th scope="col"></th>
            <th scope="col">Intestazione</th>
            <th scope="col">Azienda</th>
            <th scope="col">Bank</th>
            <th scope="col">IBAN</th>
            <th scope="col">Alias</th>
            <th scope="col">Divisa</th>
          </tr>
          </thead>

          <tbody *ngFor="let name of data">
          <tr>
            <td colspan="7" (click)="toggleAccordion(name) ">
              <fa-icon [icon]="faChec"></fa-icon>
              {{name}}</td>
          </tr>
          <ng-container *ngFor="let item of Data_list">

            <tr
              *ngIf="activeAccordion.includes(name) && item.get('Name') === name
               && items.includes(item.get('intestazione')) && item.get('iban').includes(iban)">
              <td>
                <svg cIcon class="me-2 " style="color:gold" name="cil-star"></svg>
              </td>
              <td>{{ item.get("intestazione") }}</td>
              <td>{{ item.get("azienda") }}</td>
              <td>{{ item.get("abi_code") }}</td>
              <td>{{ item.get("iban") }}</td>
              <td>{{ item.get("alias") }}</td>
              <td>{{ item.get("devisa") }}</td>
            </tr>
          </ng-container>
          </tbody>
        </table>

      </c-card-body>
    </c-card>
  </c-col>
</c-row>
